/* Rexx */
Trace

Arg dsn
Address TSO
"NEWSTACK"

/*  Attributes defined in module IGWAFMS0 IGWAMAMT on LPALIB  */
Queue "DSN="dsn
Queue "ACCESS  "
Queue "ACTOKEN "
Queue "ADDVOL  "
Queue "AKEYPOS "
Queue "AMDSBCAT"
Queue "ATIME   "
Queue "ATTRFLGS"
Queue "ATTR1   "
Queue "ATTR2   "
Queue "BLKSIZE "
Queue "BUFSIZE "
Queue "CATACB  "
Queue "CATNAME "
Queue "CATVOL  "
Queue "CCSID   "
Queue "CHARSCNT"
Queue "CHKPTTKN"
Queue "CISIZE  "
Queue "COMPIND "
Queue "COMUDSIZ"
Queue "CTIME   "
Queue "DATACLAS"
Queue "DDMATTR "
Queue "DEVTYP  "
Queue "DFMATTR "
Queue "DFMFLGS "
Queue "DFMPREC "
Queue "DIRBLCKS"
Queue "DPASALL "
Queue "DSATTR  "
Queue "DSCBTTR "
Queue "DSCRDT2 "
Queue "DSEXDT2 "
Queue "DSNVER  "
Queue "DSORG   "
Queue "ENTNAME "
Queue "ENTYPE  "
Queue "EXCPEXIT"
Queue "EXTATTR "
Queue "FILBYTSZ"
Queue "FILCLS  "
Queue "FILCLSC "
Queue "FILEDATA"
Queue "FILESEQ "
Queue "FILESIZE"
Queue "FILPRT  "
Queue "FUZZYBK1"
Queue "FUZZYBK2"
Queue "FUZZYBK3"
Queue "GID     "
Queue "HARPN   "
Queue "HURBADS "
Queue "HURPN   "
Queue "KEYLNGTH"
Queue "KEYPOS  "
Queue "LIBSHROP"
Queue "LOGPARMS"
Queue "LOGSTRID"
Queue "LRECL   "
Queue "LTBACKDT"
Queue "LTCHGDAT"
Queue "LTCHGTIM"
Queue "LTREFDAT"
Queue "LTUPDUSR"
Queue "MAXARNB "
Queue "MAXGENS "
Queue "MAXVOLS "
Queue "MEMCOUNT"
Queue "MEMMODLV"
Queue "MEMRECCT"
Queue "MEMVRSN "
Queue "MGMTCLAS"
Queue "MICKEY  "
Queue "MINUNITS"
Queue "MTIME   "
Queue "NAME    "
Queue "NAMEDS  "
Queue "NEWNAME "
Queue "OWNERID "
Queue "PAGSUSED"
Queue "PASSATMP"
Queue "PASSPRMT"
Queue "PASSWALL"
Queue "PASSWORD"
Queue "PDFREC  "
Queue "PDSEFLAG"
Queue "PDSEXFLG"
Queue "PRIMSPAC"
Queue "RCDCOUNT"
Queue "RECFM   "
Queue "RECVTIME"
Queue "RECVTIMG"
Queue "REMVOL  "
Queue "RGATTR  "
Queue "RLSBWO  "
Queue "RLSFLAGS"
Queue "SCONSPAC"
Queue "SECFLAGS"
Queue "SMSINFOM"
Queue "SMSSCMC "
Queue "SMSSFLAG"
Queue "SPACOPTN"
Queue "SPACPARM"
Queue "STORCLAS"
Queue "STRIPCNT"
Queue "SZTME   "
Queue "TEXTCHNG"
Queue "TITLE   "
Queue "TOTGENCT"
Queue "TOTMEMCT"
Queue "TYPE    "
Queue "UDATASIZ"
Queue "UID     "
Queue "USERAREC"
Queue "USVRMDUL"
Queue "VOLCOUNT"
Queue "VOLFLG  "
Queue "VOLFLG2 "
Queue "VOLKRQF "
Queue "VOLLIST "
Queue "VOLSER  "
Queue "VOLVRBA "
Queue "VSAMMRSZ"
Queue "VSAMNREC"
Queue "VSAMREUS"
Queue "VSAMTYPE"
Queue "VVRNFLGS"
Queue "VVRRDATA"
Queue "VVRROWNR"
Queue "VVRSHWRN"
Queue "VVRSHWRV"
Queue "VVRSMSFG"
Queue "XACIFLAG"
Queue "XHURBADS"
Queue

Address TSO
"ALLOC F(SYSIN) UNIT(VIO) NEW REUSE SPACE(1,1) TRACKS",
  "LRECL(80) RECFM(F)"
"EXECIO * DISKW SYSIN (FINIS"
"DELSTACK"

"ALLOC F(SYSPRINT) UNIT(VIO) NEW REUSE SPACE(1,1) TRACKS",
  "LRECL(121) RECFM(F B A)"

Address LINKMVS "FAMSEXTR"

Address TSO
"EXECIO * DISKR SYSPRINT (STEM FAMS. FINIS"
Do line = 1 to fams.0
  fams.line = Translate(fams.line,'.','&')
  Say Left(fams.line,74)
  If Pos("R15=X'00000008' REASON=X'28150048'",fams.line) > 1 Then
    Do
      attrib = Substr(fams.line,2,8)
      Say "IGW01072E ATTRIBUTE "attrib" CAN ONLY BE ALTERED"
    End
End

"ALLOC F(SYSPRINT) DA(*) SHR REUSE"
"ALLOC F(SYSIN)    DA(*) SHR REUSE"
Exit

/* J. Kalinich               */
/* Exec to execute FAMSEXTR program from Dan Dalby        */
